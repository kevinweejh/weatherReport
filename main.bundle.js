(()=>{"use strict";const e=(e,t,o,r=null)=>{const n=document.createElement(e);return n.classList.add(...t),n.innerText=o,r&&(n.id=r),n},t=(e,...t)=>{t.forEach((t=>{e.appendChild(t)}))};(()=>{const o=document.querySelector("body"),r=e("div",["bg-[url('./weather.jpg')]","h-screen","flex","flex-col"],""),n=e("div",["absolute","top-0","left-0","w-full","h-full","object-cover","z-0","bg-black/80"],"");(()=>{const o=document.querySelector("body"),r=e("dialog",["border","border-gray-500","rounded-2xl","p-5","w-96","m-auto"],"","dialogBox"),n=e("form",["text-lg","font-bold","mb-5","flex","flex-col","text-center"],"Location Selector","formElement");n.setAttribute("method","dialog");const l=e("select",["w-full","p-2.5","mb-2.5","border","rounded","border-blue-200"],"","countrySelector"),c=e("option",[],"Select country");c.setAttribute("value",""),c.setAttribute("disabled",""),c.setAttribute("selected",""),l.appendChild(c);const i=e("select",["w-full","p-2.5","mb-2.5","border","rounded","border-blue-200"],"","citySelector"),d=e("option",[],"Select City");d.setAttribute("value",""),d.setAttribute("disabled",""),d.setAttribute("selected",""),i.appendChild(d);const u=e("btn",["w-full","p-2.5","my-2.5","border","rounded-2xl","text-white","bg-blue-600","hover:bg-blue-500","hover:text-gray-200","cursor-pointer"],"Submit","submitBtn");u.addEventListener("click",(()=>{(async e=>{const t=await fetch(`http://api.weatherapi.com/v1/current.json?key=d379543822bd447c8b471126240702&aqi=no&q=${e}`),o=await t.json(),[r,n,l]=[o.current.temp_c,o.current.temp_f,o.current.condition.text];return[r,n,l]})(i.value).then((o=>{(o=>{const[r,n,l]=o,c=e("dialog",["border","border-gray-500","rounded-2xl","p-5","w-96","m-auto"],"","weatherReport"),i=e("form",["text-lg","font-bold","mb-5","flex","flex-col","text-center"],"Weather Report");i.setAttribute("method","dialog");const d=e("p",["text-base","font-normal","my-5"],`Temperature: ${r}°C`),u=e("p",["text-base","font-normal","my-5"],`Condition:   ${l}`),a=e("input",[],"°C");a.setAttribute("name","unitOption"),a.setAttribute("value","°C"),a.setAttribute("type","radio"),a.setAttribute("checked","");const s=e("input",[],"°F");s.setAttribute("name","unitOption"),s.setAttribute("value","°F"),s.setAttribute("type","radio");const b=e("btn",["w-full","p-2.5","my-2.5","border","rounded-2xl","text-white","bg-blue-600","hover:bg-blue-500","hover:text-gray-200","cursor-pointer"],"Done");b.addEventListener("click",(()=>c.close())),t(i,d,a,s,u,b),c.appendChild(i),document.querySelector("body").appendChild(c);const p=document.querySelectorAll('input[name="unitOption"]');console.log(p),p.forEach((e=>{e.addEventListener("change",(()=>{"°C"==e.value&&(d.innerText=`Temperature: ${r} ${e.value}`),"°F"==e.value&&(d.innerText=`Temperature: ${n} ${e.value}`)}))})),c.showModal()})(o)})),r.close(),r.dispatchEvent(new Event("formSubmit"))})),t(n,l,i,u),r.appendChild(n),o.appendChild(r),(()=>{const t=document.querySelector("#countrySelector");(async()=>{const e=await fetch("https://countriesnow.space/api/v0.1/countries");return(await e.json()).data})().then((o=>{o.forEach((o=>{const r=e("option",[],o.country);r.setAttribute("value",o.country),t.appendChild(r)})),t.addEventListener("change",(()=>{((t,o)=>{const r=document.querySelector("#citySelector");r.removeAttribute("disabled"),r.innerHTML="",o.find((e=>e.country===t)).cities.forEach((t=>{const o=e("option",[],t);o.setAttribute("value",t),r.appendChild(o)}))})(t.value,o)}))}))})()})();const l=e("btn",["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","rounded-2xl","cursor-pointer","py-3","px-8","font-semibold","text-2xl","hover:bg-black/80","hover:border-solid","hover:border-white","hover:text-white","border-4","bg-white"],"Hit mE");l.addEventListener("click",(()=>{document.querySelector("dialog").showModal()})),t(o,r,n,l)})()})();